<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title data-en-title="Prodigy - ESP Calculator" data-ar-title="بروديجي - ESP حاسبة">Prodigy - ESP Calculator</title>
  <link rel="icon" type="image/x-icon" href="../Images/favicon.ico">
  <link rel="stylesheet" href="../style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <style>
    body.esp-page {
      --bg: #ffffff;
      --card: #F9FAFC;
      --text: var(--color-primary);
      --accent: var(--color-primary);
      --border: #e6eef3;
      --control-radius: 8px;
      --font: sans-serif;
    }

    body.esp-page * {
      box-sizing: border-box;
    }

    body.esp-page input,
    body.esp-page select,
    body.esp-page table,
    body.esp-page label {
      font-size: 16px;
      color: var(--text);
    }

    body.esp-page .page {
      max-width: 820px;
      margin: 0 auto;
    }

    .title-red {
      color: var(--color-primary);
    }

    body.esp-page header h1 {
      font-size: 32px;
      font-weight: 700;
      color: var(--text);
    }

    body.esp-page .card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 16px;
      box-shadow: 0 6px 20px rgba(16, 32, 39, 0.04);
    }

    body.esp-page .form-row {
      display: grid;
      grid-template-columns: 170px 1fr;
      gap: 12px;
      align-items: center;
      margin-bottom: 12px;
    }

    body.esp-page .form-row.stack {
      grid-template-columns: 1fr;
    }

    body.esp-page label {
      font-weight: 700;
      font-size: 17px;
    }

    body.esp-page input[type="number"],
    body.esp-page select,
    body.esp-page input[type="text"] {
      width: 100%;
      padding: 10px;
      border-radius: var(--control-radius);
      border: 1px solid var(--border);
      font-size: 15px;
      background: #fff;
    }

    body.esp-page input[readonly] {
      background: #f3f7fa;
      cursor: default;
    }

    body.esp-page .small-unit {
      width: 86px;
      padding: 8px;
      font-size: 14px;
    }

    body.esp-page .inline-2,
    body.esp-page .inline-3 {
      display: flex;
      gap: 10px;
      align-items: center;
    }

    body.esp-page .inline-3>* {
      flex: 1;
    }

    body.esp-page .note {
      font-size: 13px;
      color: #6b7280;
      margin-top: 6px;
      margin-bottom: 0;
    }

    body.esp-page h3.section-title {
      margin: 0 0 10px 0;
      font-size: 19px;
    }

    body.esp-page .addons .row-addon {
      display: flex;
      gap: 10px;
      align-items: center;
      margin-bottom: 10px;
      flex-wrap: wrap;
    }

    body.esp-page .addons select,
    body.esp-page .addons input[type="number"] {
      width: auto;
      min-width: 110px;
    }

    body.esp-page .k-val {
      font-size: 14px;
      color: #444;
      display: inline-block;
      min-width: 82px;
      text-align: center;
      padding: 7px 8px;
      border-radius: 6px;
      background: #fbfcfd;
      border: 1px solid var(--border);
    }

    body.esp-page .formula {
      font-weight: 700;
      margin-bottom: 8px;
      color: var(--color-primary);
    }

    body.esp-page .actions {
      display: flex;
      gap: 12px;
      align-items: center;
      margin-top: 8px;
      flex-wrap: wrap;
    }

    body.esp-page button.btn {
      background: var(--accent);
      color: white;
      border: none;
      padding: 10px 14px;
      border-radius: 10px;
      font-weight: 700;
      cursor: pointer;
    }

    body.esp-page button.btn.secondary {
      background: white;
      color: var(--text);
      border: 1px solid var(--border);
    }

    body.esp-page .result {
      margin-top: 12px;
      background: #f2f8fb;
      padding: 12px;
      border-radius: 8px;
      font-weight: 800;
      font-size: 16px;
      color: var(--text);
    }

    body.esp-page table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 12px;
      font-size: 16px;
      background: white;
      border-radius: 8px;
      overflow: hidden;
    }

    body.esp-page th,
    body.esp-page td {
      padding: 10px 12px;
      border-bottom: 1px solid var(--border);
      text-align: left;
    }

    body.esp-page thead th {
      background: #fbfdff;
      font-weight: 700;
    }

    body.esp-page tfoot td {
      font-weight: 800;
      padding: 10px 12px;
      background: #fff;
    }
  </style>
</head>

<body class="esp-page">
  <header class="navbar fixed-top">
    <div class="container">
      <div class="logo-container"><img src="../Images/logo.png" alt="Prodigy Company Logo" class="logo-img"></div>
      <nav class="nav-links">
        <li><a data-en="Home" href="../index.html" data-ar="الرئيسية">Home</a></li>
        <li class="nav-dropdown-item">
          <a data-en="Technical Support" data-ar="الدعم الفني">Technical Support</a>
          <ul class="dropdown-menu">
            <li><a href="FanSelector.html" data-en="Fan Selector Tool" data-ar="أداة تحديد المروحة">Fan Selector
                Tool</a></li>
            <li><a class="active-item" data-en="ESP Calculator" data-ar="ESP حاسبة">ESP Calculator</a></li>
            <li><a href="AirflowCalculator.html" data-en="Airflow Calculator" data-ar="حاسبة تدفق الهواء">Airflow
                Calculator</a>
            </li>
            <li><a href="../Documentation/Catalog.pdf" download class="download-btn" data-en="Download Catalogue"
                data-ar="تحميل الدليل">Download Catalogue</a></li>
          </ul>
        </li>
        <li><a href="#products" data-en="Products" data-ar="المنتجات">Products</a></li>
        <li><a href="../about.html" data-en="About Us" data-ar="من نحن">About Us</a></li>
      </nav>
      <div class="nav-controls">
        <button id="language-toggle" class="lang-btn" data-lang="ar">العربية</button>
        <button class="menu-toggle" aria-label="Toggle navigation menu"><i class="fas fa-bars"></i></button>
      </div>
    </div>
  </header>
  <main class="content-section" id="home">
    <div class="page">
      <h1 class="title-red" data-en="PRODIGY ESP Calculator" data-ar="حاسبة ESP بروديجي">PRODIGY ESP Calculator</h1>
      <div class="card">
        <div class="form-row">
          <label for="ductType" data-en="Duct type" data-ar="نوع القناة">Duct type</label>
          <select id="ductType">
            <option value="PI">Pre-Insulated Duct (PI)</option>
            <option value="GI">Galvanized Iron Duct (GI)</option>
            <option value="flex">Flexible Duct</option>
          </select>
        </div>
        <div class="form-row" id="rowFlexQual" style="display:none;">
          <label for="flexQual" data-en="Flexible install quality" data-ar="جودة تركيب القناة المرنة">Flexible install
            quality</label>
          <select id="flexQual">
            <option value="1.25">Pulled tight (good) — ×1.25</option>
            <option value="2">Typical — ×2.0</option>
            <option value="3.5">Loose — ×3.5</option>
          </select>
        </div>
        <div class="form-row">
          <label for="ductShape" data-en="Duct shape" data-ar="شكل القناة">Duct shape</label>
          <select id="ductShape">
            <option value="round">Round</option>
            <option value="rect">Rectangular</option>
          </select>
        </div>
        <div class="form-row" id="rowRoundSize">
          <label for="diaMm" data-en="Duct Diameter (mm)" data-ar="قطر القناة (مم)">Duct Diameter (mm)</label>
          <input type="number" id="diaMm" min="1" step="1" placeholder="e.g. 150" data-en-placeholder="e.g. 150"
            data-ar-placeholder="مثال: 150">
        </div>
        <div class="form-row" id="rowRectSize" style="display:none;">
          <label data-en="Rect size (mm)" data-ar="أبعاد القناة المستطيلة (مم)">Rect size (mm)</label>
          <div style="display:flex;gap:8px;">
            <input type="number" id="wMm" placeholder="Width" min="1" step="1" data-en-placeholder="Width"
              data-ar-placeholder="العرض">
            <input type="number" id="hMm" placeholder="Height" min="1" step="1" data-en-placeholder="Height"
              data-ar-placeholder="الارتفاع">
          </div>
        </div>
        <div class="form-row">
          <label for="ductLen" data-en="Duct length (m)" data-ar="طول القناة (م)">Duct length (m)</label>
          <input type="number" id="ductLen" min="0" step="0.1">
        </div>
        <div class="form-row">
          <label for="flowVal" data-en="Airflow" data-ar="معدل الهواء">Airflow</label>
          <div class="inline-2" style="width:100%; align-items:center;">
            <input type="number" id="flowVal" placeholder="e.g. 1200" min="0" step="0.01"
              data-en-placeholder="e.g. 1200" data-ar-placeholder="مثال: 1200">
            <select id="flowUnit" class="small-unit">
              <option value="cfm">CFM</option>
              <option value="m3h">m³/h</option>
            </select>
          </div>
        </div>
        <div class="form-row">
          <label for="paPerM" data-en="Friction loss (Pa/m)" data-ar="خسارة الاحتكاك (Pa/م)">Friction loss
            (Pa/m)</label>
          <input type="number" id="paPerM" readonly>
        </div>
        <div class="form-row" style="align-items:start;">
          <label data-en="Derived" data-ar="المشتقة">Derived</label>
          <div style="display:flex;gap:10px;">
            <div style="flex:1">
              <label data-en="Area (m²)" data-ar="المساحة (م²)">Area (m²)</label>
              <input type="text" id="areaM2" readonly>
            </div>
            <div style="flex:1">
              <label data-en="Velocity (m/s)" data-ar="السرعة (م/ث)">Velocity (m/s)</label>
              <input type="text" id="velMs" readonly>
            </div>
          </div>
        </div>
      </div>
      <div class="card addons">
        <h3 class="title-red" data-en="Add-ons (optional)" data-ar="الملحقات (اختياري)">Add-ons (optional)</h3>
        <p class="note" data-en="Check the box to include the losses." data-ar="حدد المربع لتضمين الخسائر.">Check the
          box to include the losses.</p>
        <div class="row-addon">
          <label><input type="checkbox" id="useElbow90"> 90° Elbows</label>
          <select id="elbow90Type">
            <option value="without_vanes">Without Vanes</option>
            <option value="with_vanes">With Vanes</option>
          </select>
          <input type="number" id="elbow90Qty" placeholder="Qty" min="0">
          <div class="k-val" id="elbow90PaPer">Pa/Elbow</div>
        </div>
        <div class="row-addon">
          <label><input type="checkbox" id="useElbow45"> 45° Elbows</label>
          <select id="elbow45Type">
            <option value="without_vanes">Without Vanes</option>
            <option value="with_vanes">With Vanes</option>
          </select>
          <input type="number" id="elbow45Qty" placeholder="Qty" min="0">
          <div class="k-val" id="elbow45PaPer">Pa/Elbow</div>
        </div>
        <div class="row-addon">
          <label><input type="checkbox" id="useFilter"> Filter</label>
          <select id="filterSelect">
            <option value="75">Standard — 75 Pa</option>
            <option value="300">HEPA — 300 Pa</option>
            <option value="0">None — 0 Pa</option>
          </select>
          <input type="number" id="filterCustom" placeholder="Custom Pa">
        </div>
        <div class="row-addon">
          <label><input type="checkbox" id="useDamper"> Damper</label>
          <input type="number" id="damperPa" placeholder="Pa">
        </div>
        <div class="row-addon">
          <label><input type="checkbox" id="useOther"> Other Losses</label>
          <input type="number" id="otherPa" placeholder="Pa">
        </div>
      </div>
      <div class="card">
        <div class="formula" data-en="ESP total = Friction loss × length + ∑Elbow loss + Filter + Damper + Other"
          data-ar="ESP الكلي = خسارة الاحتكاك × الطول + خسائر المرفاع + الفلتر + المخمد + أخرى">ESP total = Friction
          loss × length + ∑Elbow loss + Filter + Damper + Other</div>
        <div class="actions">
          <button class="btn" id="calcBtn" data-en="Calculate ESP" data-ar="احسب ESP">Calculate ESP</button>
          <button class="btn secondary" id="resetBtn" data-en="Reset" data-ar="إعادة تعيين">Reset</button>
        </div>
        <div class="result" id="espResult">ESP = 0.0 Pa</div>
        <table>
          <thead>
            <tr>
              <th data-en="Component" data-ar="المكون">Component</th>
              <th data-en="Details" data-ar="التفاصيل">Details</th>
              <th data-en="Loss (Pa)" data-ar="الخسارة (Pa)">Loss (Pa)</th>
            </tr>
          </thead>
          <tbody id="breakdownBody"></tbody>
          <tfoot>
            <tr>
              <td colspan="2" data-en="Total ESP" data-ar="إجمالي ESP">Total ESP</td>
              <td id="breakdownTotal">0.0</td>
            </tr>
          </tfoot>
        </table>
      </div>
    </div>
  </main>
  <footer class="footer">
    <div class="container footer-content">
      <div class="contact-info">
        <h4 data-en="Contact Info" data-ar="معلومات الاتصال">Contact Info</h4>
        <p><i class="fas fa-envelope"></i> contact@prodigy.com</p>
        <p><i class="fas fa-phone"></i> +123 456 7890</p>
      </div>
      <div class="social-media">
        <a href="#" class="facebook"><i class="fab fa-facebook-f"></i></a>
        <a href="#" class="instagram"><i class="fab fa-instagram"></i></a>
        <a href="#" class="twitter"><i class="fab fa-twitter"></i></a>
        <a href="#" class="linkedin"><i class="fab fa-linkedin-in"></i></a>
        <a href="#" class="youtube"><i class="fab fa-youtube"></i></a>
      </div>
    </div>
    <div class="container copyright">&copy; <span id="current-year"></span> Prodigy. <span
        data-en="All Rights Reserved." data-ar="جميع الحقوق محفوظة.">All Rights Reserved.</span></div>
  </footer>
  <script src="../script.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const frictionTable = [{ D: 100, vals: [0.730, 1.507, 2.537, 3.813, 5.332, 7.092, 9.091, 11.327, 13.799] }, { D: 150, vals: [0.436, 0.904, 1.525, 2.295, 3.213, 4.277, 5.486, 6.838, 8.335] }, { D: 200, vals: [0.304, 0.631, 1.066, 1.606, 2.250, 2.997, 3.845, 4.794, 5.845] }, { D: 250, vals: [0.230, 0.478, 0.809, 1.220, 1.709, 2.277, 2.923, 3.646, 4.445] }, { D: 300, vals: [0.183, 0.382, 0.646, 0.975, 1.367, 1.822, 2.339, 2.918, 3.558] }, { D: 350, vals: [0.151, 0.316, 0.535, 0.807, 1.132, 1.509, 1.938, 2.418, 2.949] }, { D: 400, vals: [0.128, 0.268, 0.454, 0.686, 0.962, 1.283, 1.648, 2.056, 2.508] }, { D: 450, vals: [0.111, 0.232, 0.393, 0.594, 0.834, 1.112, 1.428, 1.783, 2.175] }, { D: 500, vals: [0.097, 0.204, 0.346, 0.523, 0.734, 0.979, 1.257, 1.569, 1.915] }];
      const velocities = [2, 3, 4, 5, 6, 7, 8, 9, 10];
      const Kvalues = { GI_PI: { '90_short': 1.0, '90_long': 0.4, '45_short': 0.9, '45_long': 0.4 }, flex: { '90_short': 1.3, '90_long': 0.6, '45_short': 1.1, '45_long': 0.5 } };
      const selectDuct = document.getElementById('ductType'), selectShape = document.getElementById('ductShape'), rowFlex = document.getElementById('rowFlexQual'), rowRound = document.getElementById('rowRoundSize'), rowRect = document.getElementById('rowRectSize'); selectDuct.addEventListener('change', () => { rowFlex.style.display = selectDuct.value === 'flex' ? 'flex' : 'none'; calcESP() }); selectShape.addEventListener('change', () => { rowRound.style.display = selectShape.value === 'round' ? 'flex' : 'none'; rowRect.style.display = selectShape.value === 'rect' ? 'flex' : 'none'; calcESP() }); document.getElementById('diaMm').addEventListener('input', calcESP); document.getElementById('wMm').addEventListener('input', calcESP); document.getElementById('hMm').addEventListener('input', calcESP); document.getElementById('ductLen').addEventListener('input', calcESP); document.getElementById('flowVal').addEventListener('input', calcESP); document.getElementById('flowUnit').addEventListener('change', calcESP); document.getElementById('flexQual').addEventListener('change', calcESP); document.getElementById('calcBtn').addEventListener('click', calcESP); document.getElementById('resetBtn').addEventListener('click', () => { document.querySelectorAll('input').forEach(i => i.value = ''); document.querySelectorAll('select').forEach(s => s.selectedIndex = 0); calcESP() }); function calcESP() { let dia = parseFloat(document.getElementById('diaMm').value) || 0; let w = parseFloat(document.getElementById('wMm').value) || 0; let h = parseFloat(document.getElementById('hMm').value) || 0; let L = parseFloat(document.getElementById('ductLen').value) || 0; let Q = parseFloat(document.getElementById('flowVal').value) || 0; let unit = document.getElementById('flowUnit').value; let flexFactor = parseFloat(document.getElementById('flexQual').value) || 1; if (unit === 'm3h') Q /= 3.6; let area = 0; let vel = 0; if (selectShape.value === 'round') { area = Math.PI * (dia / 1000 / 2) ** 2; vel = Q / area } else { area = (w / 1000) * (h / 1000); vel = Q / area } let D = dia; let idx = 0; while (idx < frictionTable.length - 1 && D > frictionTable[idx].D) idx++; let vals = frictionTable[idx].vals; let frIdx = Math.min(velocities.length - 1, Math.max(0, Math.round(vel - 2))); let friction = vals[frIdx]; if (selectDuct.value === 'flex') friction *= flexFactor; document.getElementById('paPerM').value = friction.toFixed(2); let totalESP = friction * L; let breakdown = document.getElementById('breakdownBody'); breakdown.innerHTML = '';['elbow90', 'elbow45', 'filter', 'damper', 'other'].forEach(id => { let use = document.getElementById('use' + id.charAt(0).toUpperCase() + id.slice(1)); if (use && use.checked) { let val = 0; switch (id) { case 'elbow90': val = parseFloat(document.getElementById('elbow90Qty').value) || 0; break; case 'elbow45': val = parseFloat(document.getElementById('elbow45Qty').value) || 0; break; case 'filter': val = parseFloat(document.getElementById('filterCustom').value) || parseFloat(document.getElementById('filterSelect').value) || 0; break; case 'damper': val = parseFloat(document.getElementById('damperPa').value) || 0; break; case 'other': val = parseFloat(document.getElementById('otherPa').value) || 0 }totalESP += val; breakdown.innerHTML += '<tr><td>' + id + '</td><td></td><td>' + val.toFixed(2) + '</td></tr>' } }); document.getElementById('espResult').textContent = 'ESP = ' + totalESP.toFixed(2) + ' Pa'; document.getElementById('breakdownTotal').textContent = totalESP.toFixed(2); document.getElementById('areaM2').value = area.toFixed(3); document.getElementById('velMs').value = vel.toFixed(2); }
      calcESP();
    });
  </script>
</body>

</html>